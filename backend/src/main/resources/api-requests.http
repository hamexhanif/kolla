### ===================================================================
### AUTHENTIFIZIERUNG (Momentan deaktiviert, für später vorbereitet)
### ===================================================================
# @name loginRequest
POST http://localhost:8080/api/auth/login
Content-Type: application/json

{
  "email": "admin@kolla.com",
  "password": "adminpassword"
}

> {%
    client.global.set("jwt_token", response.body.token);
%}

### ===================================================================
### AKTEUR / USER DASHBOARD ENDPUNKTE
### ===================================================================

### Ruft die zusammengefassten Dashboard-Daten für einen Benutzer ab
#   - Benötigt für die Kacheln "Open Tasks", "Due Today", etc. im Akteur-Dashboard.
#   - Wir testen wieder mit Benutzer "developer" (ID = 2).
GET http://localhost:8080/api/users/dashboard-tasks/2
Authorization: Bearer {{jwt_token}} // Später einkommentieren


### ===================================================================
### WORKFLOW MANAGER DASHBOARD ENDPUNKTE
### ===================================================================

### Ruft die zusammengefassten Dashboard-Daten für den Manager ab
#   - Benötigt für die Kacheln "Open Tasks", "Overdue", etc. im Manager-Dashboard.
GET http://localhost:8080/api/manager/dashboard
Authorization: Bearer {{jwt_token}} // Später einkommentieren


### Ruft die vollständige Task-Liste für das Manager-Dashboard ab
#   - Benötigt für die Tabelle mit allen Tasks.
GET http://localhost:8080/api/tasks
Authorization: Bearer {{jwt_token}} // Später einkommentieren


### ===================================================================
### AKTIONEN (Aufgaben bearbeiten)
### ===================================================================

### Aktion 1: Einen Arbeitsschritt abschließen
#   - Simuliert, dass der "developer" (userId: 2) den ersten Schritt (stepId: 1) des ersten Tasks (taskId: 1) abschließt.
POST http://localhost:8080/api/task-steps/1/complete
Content-Type: application/json
Authorization: Bearer {{jwt_token}} // Später einkommentieren

{
  "taskId": 1,
  "userId": 2
}


### Aktion 2: Manuelle Priorität für einen Schritt setzen
#   - Simuliert, dass ein Manager die Priorität von Schritt 2 auf "sofort" (1) setzt.
POST http://localhost:8080/api/task-steps/2/set-priority
Content-Type: application/json
Authorization: Bearer {{jwt_token}} // Später einkommentieren

{
  "manualPriority": 1
}


### ===================================================================
### VERWALTUNGS-ENDPUNKTE (User, Roles etc.)
### ===================================================================

### Erstellt einen neuen Benutzer
POST http://localhost:8080/api/users
Content-Type: application/json
Authorization: Bearer {{jwt_token}} // Später einkommentieren

{
  "username": "neuer_benutzer_5",
  "email": "neu5@test.com",
  "password": "geheimesPasswort123",
  "firstName": "Neu",
  "lastName": "Benutzer",
  "tenantId": 1
}

### Ruft alle Benutzer ab
GET http://localhost:8080/api/users
Authorization: Bearer {{jwt_token}} // Später einkommentieren

### Ruft einen einzelnen Benutzer ab (ID 4, den wir erstellt haben)
GET http://localhost:8080/api/users/4
Authorization: Bearer {{jwt_token}}

### Aktualisiert einen Benutzer (ID 4)
PUT http://localhost:8080/api/users/4
Authorization: Bearer {{jwt_token}}
Content-Type: application/json

{
  "username": "aktualisierter_benutzer",
  "email": "neu_updated@test.com"
}


### Löscht einen Benutzer (ID 4)
DELETE http://localhost:8080/api/users/4
Authorization: Bearer {{jwt_token}}